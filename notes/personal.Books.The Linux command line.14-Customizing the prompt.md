---
id: sf3wdxcw37olv4b3r65uoaa
title: 14-Customizing the prompt
desc: ''
updated: 1686792684938
created: 1686523824896
---

## Anatomy of a prompt

Our default prompt looks something like this:

```BASH
# [me@linuxbox ~]$
```

The prompt is defined by an environment variable named PS1 (prompt string 1).

| Sequence |                                               Value displayed                                               |
|:--------:|:-----------------------------------------------------------------------------------------------------------:|
|   `\a`   |                      ASCII bell. This makes the computer beep when it is encountered.                       |
|   `\d`   |                                  Current date in day, month, date format.                                   |
|   `\h`   |                        Hostname of the local machine minus the trailing domain name.                        |
|   `\H`   |                                               Full hostname.                                                |
|   `\j`   |                            Number of jobs running in the current shell session.                             |
|   `\l`   |                                    Name of the current terminal device.                                     |
|   `\n`   |                                            A newline character.                                             |
|   `\s`   |                                         Name of the shell program.                                          |
|   `\t`   |                            Current time in 24-hour hours:minutes:seconds format.                            |
|   `\T`   |                                       Current time in 12-hour format.                                       |
|   `\@`   |                                   Current time in 12-hour (AM/PM format).                                   |
|   `\A`   |                                Current time in 24-hour hours:minutes format.                                |
|   `\u`   |                                        Username of the current user.                                        |
|   `\v`   |                                        Version number of the shell.                                         |
|   `\V`   |                                  Version and release numbers of the shell.                                  |
|   `\w`   |                                   Name of the current working directory.                                    |
|   `\W`   |                              Last part of the current working directory name.                               |
|   `\!`   |                                   History number of the current command.                                    |
|   `\#`   |                            Number of commands entered during this shell session.                            |
|   `\$`   | This displays a "$" character unless we have superuser privileges. In that case, it displays a "#" instead. |
|   `\[`   |                    Signals the start of a series of one or more non-printing characters.                    |
|   `\]`   |                            Signals the end of a non-printing character sequence.                            |

## Trying some alternative prompt designs

```BASH
PS1_OLD=$PS1

PS1="\[\a\]\$ " # An non-printing sequence was defined, because "\a" doesn't print

PS1="\A \h \$"

PS1="<\u@\h \W>\$ "
```

## Adding color

Most terminal emulator programs respond to certain non-printing character sequences to control such things as character attributes (such as color, bold text, and the dreaded blinking text) and cursor position.

Character color is controlled by sending the terminal emulator an **ANSI escape code** embedded in the stream of characters to be displayed. The control code does not "print out" on the display; rather, it is interpreted by the terminal as an instruction. An ANSI escape code begins with an octal 033 (the code generated by the `ESC`), followed by an optional character attribute, followed by an instruction.

|   Sequence   | Text color |
|:------------:|:----------:|
| `\033[0;30m` |   Black.   |
| `\033[0;31m` |    Red.    |
| `\033[0;32m` |   Green.   |
| `\033[0;33m` |   Brown.   |
| `\033[0;34m` |   Blue.    |
| `\033[0;35m` |  Purple.   |
| `\033[0;36m` |   Cyan.    |

> Every color has its own light version, the only difference in the sequence is that the light version change the 0 for a 1 `\033[1;XXm` (that changed number it's calle bold attribute).

```BASH
PS1= "\[\033[0;31m\]<\u@\h \W>\$\[\033[0m\] "
```

The sequence is composed of:

- `\[\033[0;31m\]`: telling the terminal to diplay things in red.
- `<\u@\h \W>\$`: the displayed prompt.
- `\[\033[0m\]`: telling the terminal to diplay things in the previous color.

It's also possible to set the text background color using escape sequendes. The difference from the normal color structure is that a background color sequence follow this form `\033[0;4Xm`.

> Background colors doesn't support the bold attribute.

```BASH
PS1="\[\033[0;41m\]<\u@\h \W>\$\[\033[0m\] "
```

_Besides the normal (0) and bold (1) character attributes, text may be given underscore (4), blinking (5), and inverse (7) attributes._

## Moving the cursor

|   Sequence    |                                      Action                                       |
|:-------------:|:---------------------------------------------------------------------------------:|
| `\033[<l>;<c>H` |                                      Move the cursor to line `l` and column `c`.                                       |
|  `\033[<n>A`  |                           Move the cursor up `n` lines.                           |
|  `\033[<n>B`  |                          Move the cursor down `n` lines.                          |
|  `\033[<n>C`  |                      Move the cursor forward `n` characters.                      |
|  `\033[<n>D`  |                     Move the cursor backward `n` characters.                      |
|   `\033[2J`   | Clear the screen and move the cursor to the upper-left corner (line 0, column 0). |
|   `\033[K`    |          Clear from the cursor position to the end of the current line.           |
|   `\033[s`    |                        Store the current cursor position.                         |
|   `\033[K`    |                        Recall the stored cursor position.                         |

```BASH
PS1="\[\033[s\033[0;0H\033[0;41m\033[K \033[u\] <\u@\h \W>\$ "

PS1="\[\033[s\033[0;0H\]
```

The sequence is composed of:

- `\033[s`: store the cursor position (the normal position of your prompt).
- `\033[0;0H`: Move the cursor to the upper-left corner (line 0, column 0).
- `\033[0;41m`: set the background color to red.
- `\033[K`: clear from the current cursor location (the top-left corner) to the end of the line (this is for "paint" the line red).
- `\033[1;33m`: Display the current time.
- `\033[0m`: Turn off color (return to the normal color).
- `\033[u`: Restore the cursor position saved earlier.
- `\]`: End the non-printing characters sequence.
